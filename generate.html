<html>
	<head>
		<link
			rel="icon shortcut"
			href="https://www.somaiya.edu/assets/university/img/svv-emblem.svg"
			type="image/x-icon"
			sizes="16x16"
		/>
		<link rel="stylesheet" href="styles.css" />

		<script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js "></script>
	</head>
	<body clas="screen">
		<div class="redMat">
			<div class="darkRed"></div>
		</div>
		<div class="container">
			<img
				class="Somaiyalogo"
				src="https://www.somaiya.edu/assets/university/img/homepage/university-logo.svg"
			/>
			<div class="SomaiyaDigitalIDcardportal">You are logged in!</div>
			<button
				style="
					position: absolute;
					width: 255px;
					height: 80px;
					left: calc(50% - 255px / 2 - 1.5px);
					top: calc(50% - 80px / 2 + 142px);
				"
				class="button"
				onclick="generate()"
				id="loginButton"
			>
				<div class="buttontext">Generate</div>
			</button>
			<script>
				function generate() {
					//check credentials first from local storage, etc
					window.location.href = "./id.html";
					localStorage.setItem("Generated", "True");
				}
				checkAuth(); //check if site is authenticated or not.
				function checkAuth() {
					//prevent direct access to webpage.
					//called only once. Once the local storage is set, it is not changed again till cookies are cleared. (or local storage is cleared)
					if (localStorage.getItem("Authenticated") == "True") {
						//correct
					} else {
						//site direct accessed. Prevent it
						window.location.href = "./auth.html";
					}
				}
			</script>
		</div>
	</body>
</html>
